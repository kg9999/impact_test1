# Impact test one
> Impact test one is a REST API for users, categories, authors and books.


This project is an rest api and a mini client for managing books, authors, categories and users.

## ERD Diagram

Sequelize ORM was used. Although it should work with 'mysql'|'mariadb'|'sqlite'|'postgres'|'mssql', it was only tested with MYSQL

![ERD screenshot](erd.png?raw=true "Command API Results")


## Swagger API Definition

```sh
    http://localhost:8080/api-docs/
```
![Swagger screenshot](swagger.png?raw=true "Command API Results")


## Installation


```sh
git clone https://github.com/kg9999/impact_test1.git
npm install
```
change configuration details in configs/config.json

## Configuration: configs/config.json

```sh
{
    "db": {
        "dialect": "mysql", // using mysql, change to 'mysql'|'mariadb'|'sqlite'|'postgres'|'mssql' for different engine
        "host": "127.0.0.1",
        "port": 8000, // to run on different port
        "user": "root", // change to db user
        "pass": "kgopelo99", // chnage to db pass
        "database": "impact_test", // change to db name
        "pool_max": 10,
        "pool_min": 0,
        "pool_acquire": 30000,
        "pool_idle": 10000
    },
    "auth": {
        "web_token_expire": "30d",
        "web_token_secret_key": "MyImpactSecretKey"
    },
    "server": {
        "port": 8080
    }
}
```

## Usage
Run
```sh
npm start or node app.js
```
## Project Structure
```sh
routes -> contains all routes of api
controllers -> contains logic of routes
models -> contains models of api
modules -> contains all modules of api
configs -> contains all configs of api
logs -> contains logs generated by winston
public -> contains client
```

## Sould you get Errors:

```sh
Please ensure that there is a connection to the database and that the db exists. 
The application does not terminate if no connection to db can be established.
Please do not refresh client page as there might be a conflict between api routes and Client public routes
```

